{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { uiActions } from \"./ui\";\nconst slice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n    quantity: 0\n  },\n  reducers: {\n    setCart(state, {\n      payload\n    }) {\n      state.cart = payload;\n    },\n    addToCart(state, {\n      payload\n    }) {\n      const existingCartItem = state.items.find(item => item.id === payload.id);\n      if (existingCartItem) {\n        existingCartItem.quantity++;\n        existingCartItem.total += existingCartItem.price;\n      } else {\n        state.items.push({\n          ...payload,\n          total: payload.price,\n          quantity: 1\n        });\n      }\n      state.quantity++;\n    },\n    removeFromCart(state, {\n      payload\n    }) {\n      const existingCartItem = state.items.find(item => item.id === payload);\n      if (existingCartItem.quantity > 1) {\n        existingCartItem.quantity--;\n        existingCartItem.total -= existingCartItem.price;\n      } else state.items = state.items.filter(item => item.id !== payload);\n      state.quantity--;\n    }\n  }\n});\nexport const cartActions = slice.actions;\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","uiActions","slice","name","initialState","items","quantity","reducers","setCart","state","payload","cart","addToCart","existingCartItem","find","item","id","total","price","push","removeFromCart","filter","cartActions","actions","reducer"],"sources":["/Users/damian.rachwal/Documents/code/react-complete-guide/20-redux-advanced/src/store/cart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { uiActions } from \"./ui\";\n\nconst slice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n    quantity: 0\n  },\n  reducers: {\n    setCart(state, { payload }) {\n      state.cart = payload;\n    },\n    addToCart(state, { payload }) {\n      const existingCartItem = state.items.find(item => item.id === payload.id);\n\n      if (existingCartItem) {\n        existingCartItem.quantity++;\n        existingCartItem.total += existingCartItem.price;\n      } else {\n        state.items.push({\n          ...payload,\n          total: payload.price,\n          quantity: 1\n        })\n      }\n\n      state.quantity++;\n    },\n    removeFromCart(state, { payload }) {\n      const existingCartItem = state.items.find(item => item.id === payload);\n\n      if (existingCartItem.quantity > 1) {\n        existingCartItem.quantity--;\n        existingCartItem.total -= existingCartItem.price;\n      } else\n        state.items = state.items.filter(item => item.id !== payload)\n\n      state.quantity--;\n\n    }\n  }\n})\n\nexport const cartActions = slice.actions;\nexport default slice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,MAAM;AAEhC,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACxBG,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAOA,CAACC,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MAC1BD,KAAK,CAACE,IAAI,GAAGD,OAAO;IACtB,CAAC;IACDE,SAASA,CAACH,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MAC5B,MAAMG,gBAAgB,GAAGJ,KAAK,CAACJ,KAAK,CAACS,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,OAAO,CAACM,EAAE,CAAC;MAEzE,IAAIH,gBAAgB,EAAE;QACpBA,gBAAgB,CAACP,QAAQ,EAAE;QAC3BO,gBAAgB,CAACI,KAAK,IAAIJ,gBAAgB,CAACK,KAAK;MAClD,CAAC,MAAM;QACLT,KAAK,CAACJ,KAAK,CAACc,IAAI,CAAC;UACf,GAAGT,OAAO;UACVO,KAAK,EAAEP,OAAO,CAACQ,KAAK;UACpBZ,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;MAEAG,KAAK,CAACH,QAAQ,EAAE;IAClB,CAAC;IACDc,cAAcA,CAACX,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MACjC,MAAMG,gBAAgB,GAAGJ,KAAK,CAACJ,KAAK,CAACS,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,OAAO,CAAC;MAEtE,IAAIG,gBAAgB,CAACP,QAAQ,GAAG,CAAC,EAAE;QACjCO,gBAAgB,CAACP,QAAQ,EAAE;QAC3BO,gBAAgB,CAACI,KAAK,IAAIJ,gBAAgB,CAACK,KAAK;MAClD,CAAC,MACCT,KAAK,CAACJ,KAAK,GAAGI,KAAK,CAACJ,KAAK,CAACgB,MAAM,CAACN,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKN,OAAO,CAAC;MAE/DD,KAAK,CAACH,QAAQ,EAAE;IAElB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMgB,WAAW,GAAGpB,KAAK,CAACqB,OAAO;AACxC,eAAerB,KAAK,CAACsB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}