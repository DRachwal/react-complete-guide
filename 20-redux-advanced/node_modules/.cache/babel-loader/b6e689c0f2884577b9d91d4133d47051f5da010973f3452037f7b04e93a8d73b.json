{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst slice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n    quantity: 0\n  },\n  reducers: {\n    setCart(state, {\n      payload\n    }) {\n      const {\n        items,\n        quantity\n      } = payload;\n      console.log('setCart payload', payload);\n      state.items = items;\n      state.quantity = quantity;\n      console.log('setCart state', state);\n    },\n    addToCart(state, {\n      payload\n    }) {\n      var _state$items;\n      const existingCartItem = (_state$items = state.items) === null || _state$items === void 0 ? void 0 : _state$items.find(item => item.id === payload.id);\n      if (existingCartItem) {\n        existingCartItem.quantity++;\n        existingCartItem.total += existingCartItem.price;\n      } else {\n        state.items.push({\n          ...payload,\n          total: payload.price,\n          quantity: 1\n        });\n      }\n      state.quantity++;\n    },\n    removeFromCart(state, {\n      payload\n    }) {\n      const existingCartItem = state.items.find(item => item.id === payload);\n      if (existingCartItem.quantity > 1) {\n        existingCartItem.quantity--;\n        existingCartItem.total -= existingCartItem.price;\n      } else state.items = state.items.filter(item => item.id !== payload);\n      state.quantity--;\n    }\n  }\n});\nexport const cartActions = slice.actions;\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","slice","name","initialState","items","quantity","reducers","setCart","state","payload","console","log","addToCart","_state$items","existingCartItem","find","item","id","total","price","push","removeFromCart","filter","cartActions","actions","reducer"],"sources":["/Users/damian.rachwal/Documents/code/react-complete-guide/20-redux-advanced/src/store/cart.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst slice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [],\n    quantity: 0\n  },\n  reducers: {\n    setCart(state, { payload }) {\n      const { items, quantity } = payload;\n      console.log('setCart payload', payload)\n      state.items = items;\n      state.quantity = quantity;\n      console.log('setCart state', state)\n    },\n    addToCart(state, { payload }) {\n      const existingCartItem = state.items?.find(item => item.id === payload.id);\n\n      if (existingCartItem) {\n        existingCartItem.quantity++;\n        existingCartItem.total += existingCartItem.price;\n      } else {\n        state.items.push({\n          ...payload,\n          total: payload.price,\n          quantity: 1\n        })\n      }\n\n      state.quantity++;\n    },\n    removeFromCart(state, { payload }) {\n      const existingCartItem = state.items.find(item => item.id === payload);\n\n      if (existingCartItem.quantity > 1) {\n        existingCartItem.quantity--;\n        existingCartItem.total -= existingCartItem.price;\n      } else\n        state.items = state.items.filter(item => item.id !== payload)\n\n      state.quantity--;\n\n    }\n  }\n})\n\nexport const cartActions = slice.actions;\nexport default slice.reducer;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,KAAK,GAAGD,WAAW,CAAC;EACxBE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC;EACDC,QAAQ,EAAE;IACRC,OAAOA,CAACC,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MAC1B,MAAM;QAAEL,KAAK;QAAEC;MAAS,CAAC,GAAGI,OAAO;MACnCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,OAAO,CAAC;MACvCD,KAAK,CAACJ,KAAK,GAAGA,KAAK;MACnBI,KAAK,CAACH,QAAQ,GAAGA,QAAQ;MACzBK,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,KAAK,CAAC;IACrC,CAAC;IACDI,SAASA,CAACJ,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MAAA,IAAAI,YAAA;MAC5B,MAAMC,gBAAgB,IAAAD,YAAA,GAAGL,KAAK,CAACJ,KAAK,cAAAS,YAAA,uBAAXA,YAAA,CAAaE,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKR,OAAO,CAACQ,EAAE,CAAC;MAE1E,IAAIH,gBAAgB,EAAE;QACpBA,gBAAgB,CAACT,QAAQ,EAAE;QAC3BS,gBAAgB,CAACI,KAAK,IAAIJ,gBAAgB,CAACK,KAAK;MAClD,CAAC,MAAM;QACLX,KAAK,CAACJ,KAAK,CAACgB,IAAI,CAAC;UACf,GAAGX,OAAO;UACVS,KAAK,EAAET,OAAO,CAACU,KAAK;UACpBd,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;MAEAG,KAAK,CAACH,QAAQ,EAAE;IAClB,CAAC;IACDgB,cAAcA,CAACb,KAAK,EAAE;MAAEC;IAAQ,CAAC,EAAE;MACjC,MAAMK,gBAAgB,GAAGN,KAAK,CAACJ,KAAK,CAACW,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKR,OAAO,CAAC;MAEtE,IAAIK,gBAAgB,CAACT,QAAQ,GAAG,CAAC,EAAE;QACjCS,gBAAgB,CAACT,QAAQ,EAAE;QAC3BS,gBAAgB,CAACI,KAAK,IAAIJ,gBAAgB,CAACK,KAAK;MAClD,CAAC,MACCX,KAAK,CAACJ,KAAK,GAAGI,KAAK,CAACJ,KAAK,CAACkB,MAAM,CAACN,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKR,OAAO,CAAC;MAE/DD,KAAK,CAACH,QAAQ,EAAE;IAElB;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMkB,WAAW,GAAGtB,KAAK,CAACuB,OAAO;AACxC,eAAevB,KAAK,CAACwB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}