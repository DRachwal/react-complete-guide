{"ast":null,"code":"import { uiActions } from './ui';\nimport { cartActions } from './cart';\nexport const updateCart = cart => async dispatch => {\n  dispatch(uiActions.showNotification({\n    status: 'pending',\n    title: 'Sending...',\n    message: 'Sending cart data'\n  }));\n  try {\n    const response = await fetch('https://react-redux-22c17-default-rtdb.firebaseio.com/cart.json', {\n      method: 'PUT',\n      body: JSON.stringify(cart)\n    });\n    if (!response.ok) {\n      throw new Error('Sending cart data failed');\n    }\n    dispatch(uiActions.showNotification({\n      status: 'success',\n      title: 'Success',\n      message: 'Cart data has been sent'\n    }));\n  } catch (error) {\n    dispatch(uiActions.showNotification({\n      status: 'error',\n      title: 'Error',\n      message: 'Sending cart data failed'\n    }));\n  }\n};\nexport const getCart = () => async dispatch => {\n  try {\n    const response = await fetch('https://react-redux-22c17-default-rtdb.firebaseio.com/cart.json');\n    const data = await response.json();\n    console.log('data', data);\n    dispatch(cartActions.setCart(data));\n  } catch (error) {\n    dispatch(uiActions.showNotification({\n      status: 'error',\n      title: 'Error',\n      message: 'Fetching cart data failed'\n    }));\n  }\n};","map":{"version":3,"names":["uiActions","cartActions","updateCart","cart","dispatch","showNotification","status","title","message","response","fetch","method","body","JSON","stringify","ok","Error","error","getCart","data","json","console","log","setCart"],"sources":["/Users/damian.rachwal/Documents/code/react-complete-guide/20-redux-advanced/src/store/cart-actions.js"],"sourcesContent":["import { uiActions } from './ui';\nimport { cartActions } from './cart';\n\nexport const updateCart = (cart) => async (dispatch) => {\n  dispatch(\n    uiActions.showNotification({\n      status: 'pending',\n      title: 'Sending...',\n      message: 'Sending cart data'\n    })\n  );\n\n  try {\n    const response = await fetch(\n      'https://react-redux-22c17-default-rtdb.firebaseio.com/cart.json',\n      {\n        method: 'PUT',\n        body: JSON.stringify(cart)\n      }\n    )\n\n    if (!response.ok) {\n      throw new Error('Sending cart data failed');\n    }\n\n    dispatch(\n      uiActions.showNotification({\n        status: 'success',\n        title: 'Success',\n        message: 'Cart data has been sent'\n      })\n    );\n  } catch (error) {\n    dispatch(uiActions.showNotification({\n      status: 'error',\n      title: 'Error',\n      message: 'Sending cart data failed'\n    }));\n  }\n};\n\nexport const getCart = () => async dispatch => {\n  try {\n    const response = await fetch('https://react-redux-22c17-default-rtdb.firebaseio.com/cart.json');\n    const data = await response.json();\n    console.log('data', data);\n    dispatch(cartActions.setCart(data))\n  } catch (error) {\n    dispatch(uiActions.showNotification({\n      status: 'error',\n      title: 'Error',\n      message: 'Fetching cart data failed'\n    }));\n  }\n}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,MAAM;AAChC,SAASC,WAAW,QAAQ,QAAQ;AAEpC,OAAO,MAAMC,UAAU,GAAIC,IAAI,IAAK,MAAOC,QAAQ,IAAK;EACtDA,QAAQ,CACNJ,SAAS,CAACK,gBAAgB,CAAC;IACzBC,MAAM,EAAE,SAAS;IACjBC,KAAK,EAAE,YAAY;IACnBC,OAAO,EAAE;EACX,CAAC,CACH,CAAC;EAED,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,iEAAiE,EACjE;MACEC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACX,IAAI;IAC3B,CACF,CAAC;IAED,IAAI,CAACM,QAAQ,CAACM,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAC7C;IAEAZ,QAAQ,CACNJ,SAAS,CAACK,gBAAgB,CAAC;MACzBC,MAAM,EAAE,SAAS;MACjBC,KAAK,EAAE,SAAS;MAChBC,OAAO,EAAE;IACX,CAAC,CACH,CAAC;EACH,CAAC,CAAC,OAAOS,KAAK,EAAE;IACdb,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;MAClCC,MAAM,EAAE,OAAO;MACfC,KAAK,EAAE,OAAO;MACdC,OAAO,EAAE;IACX,CAAC,CAAC,CAAC;EACL;AACF,CAAC;AAED,OAAO,MAAMU,OAAO,GAAGA,CAAA,KAAM,MAAMd,QAAQ,IAAI;EAC7C,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,iEAAiE,CAAC;IAC/F,MAAMS,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;IAClCC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,IAAI,CAAC;IACzBf,QAAQ,CAACH,WAAW,CAACsB,OAAO,CAACJ,IAAI,CAAC,CAAC;EACrC,CAAC,CAAC,OAAOF,KAAK,EAAE;IACdb,QAAQ,CAACJ,SAAS,CAACK,gBAAgB,CAAC;MAClCC,MAAM,EAAE,OAAO;MACfC,KAAK,EAAE,OAAO;MACdC,OAAO,EAAE;IACX,CAAC,CAAC,CAAC;EACL;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}